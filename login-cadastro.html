<!DOCTYPE html>
<html>
<head>
  <title>login</title>
  <link rel="stylesheet" type="text/css" href="front-end/styles/login-cadastro.css">
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="main">  
 
        <input type="checkbox" id="chk" aria-hidden="true">
    
          <div class="signup">
            <div class="form">
              <label for="chk" aria-hidden="true">Sign up</label>
              <input type="text" name="nome" id="nome" placeholder="Nome" required="">
              <input type="number" name="whatsapp" id="whatsapp" placeholder="WhatsApp" required="">
              <input type="text" name="endereco" id="endereco" placeholder="Endereço" required="">
              <input type="password" name="pswd" id="pswd" placeholder="Senha" required="">
              <button onclick="cadastrarPessoa()">Sign up</button>
            </div>
          </div>
    
          <div class="login">
            <div class="form">
              <label for="chk" aria-hidden="true">Login</label>
              <input type="email" name="whatsapp" placeholder="WhatsApp" required="">
              <input type="password" name="pswd" placeholder="Senha" required="">
              <button>Login</button>
            </div>
          </div>
      </div>
  
</body>
<script>
  function cadastrarPessoa() {
            // Captura os valores dos inputs
            const nome = document.getElementById('nome').value;
            const whatsapp = document.getElementById('whatsapp').value;
            const endereco = document.getElementById('endereco').value;
            const senha = document.getElementById('pswd').value;
           


            // Cria o objeto com os dados
            const pessoa = {
                nome: nome,
                whatsapp: whatsapp,
                endereco:endereco, // Converte a idade para número
                senha: senha,
                
                
            };

            // Faz a solicitação POST para o backend
            fetch('http://localhost:3000/api/pessoas', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(pessoa)
            })
                .then(response => response.json())
                .then(data => {
                    alert('Pessoa cadastrada com sucesso!');
                    // Limpar os campos de entrada após o envio
                    window.location.href = "index.html"
                })
                .catch(error => alert(error))
        }
</script>
</html>